<section class="bg-gray-50 py-16 px-4">
  <div class="max-w-4xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-4xl font-bold text-gray-900 mb-4">
        Follow a Family's Journey to Safety
      </h2>
      <p class="text-lg text-gray-600">
        See how your donations create real change through an anonymized family's path from crisis to independence
      </p>
    </div>

    <!-- Timeline -->
    <div class="relative">
      <!-- Vertical Line -->
      <div class="absolute left-8 top-0 w-1 h-full bg-gradient-to-b from-red-400 via-yellow-400 via-blue-400 to-green-500"></div>

      <!-- Timeline Steps -->
      <div class="space-y-12">
        <!-- Step 1: Crisis Call -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 0" [class.opacity-40]="currentStep < 0">
          <!-- Solid Circle -->
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-red-500 border-4 border-white shadow-lg"></div>
          </div>

          <!-- Content Card -->
          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Crisis Call</h3>
            <p class="text-gray-600 mb-4">
              Sarah* calls our 24/7 hotline at 2am with her two children (ages 6 and 9)
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Emergency response: $75
                                                  </span>
          </div>
        </div>

        <!-- Step 2: Emergency Shelter -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 1" [class.opacity-40]="currentStep < 1">
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-orange-500 border-4 border-white shadow-lg"></div>
          </div>

          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Emergency Shelter</h3>
            <p class="text-gray-600 mb-4">
              Safe accommodation for 30 days while we develop a safety plan
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Shelter (30 nights): $1,050
                                                  </span>
          </div>
        </div>

        <!-- Step 3: Healing Begins -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 2" [class.opacity-40]="currentStep < 2">
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-purple-500 border-4 border-white shadow-lg"></div>
          </div>

          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Healing Begins</h3>
            <p class="text-gray-600 mb-4">
              Trauma counseling for Sarah, art therapy for children, legal support
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Therapy (12 sessions): $300
                                                  </span>
          </div>
        </div>

        <!-- Step 4: Building Skills -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 3" [class.opacity-40]="currentStep < 3">
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-blue-600 border-4 border-white shadow-lg"></div>
          </div>

          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Building Skills</h3>
            <p class="text-gray-600 mb-4">
              Job training, financial literacy, parenting support workshops
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Skills training: $200
                                                  </span>
          </div>
        </div>

        <!-- Step 5: Independence -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 4" [class.opacity-40]="currentStep < 4">
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-indigo-600 border-4 border-white shadow-lg"></div>
          </div>

          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Independence</h3>
            <p class="text-gray-600 mb-4">
              Sarah finds stable employment and moves into permanent housing
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Transition support: $150
                                                  </span>
          </div>
        </div>

        <!-- Step 6: Thriving -->
        <div class="relative flex items-start gap-8" [class.opacity-100]="currentStep >= 5" [class.opacity-40]="currentStep < 5">
          <div class="relative z-10 flex-shrink-0">
            <div class="w-16 h-16 rounded-full bg-yellow-500 border-4 border-white shadow-lg"></div>
          </div>

          <div class="flex-1 bg-white rounded-xl shadow-md p-6">
            <h3 class="text-2xl font-bold text-gray-900 mb-3">Thriving</h3>
            <p class="text-gray-600 mb-4">
              Children excel in school, Sarah becomes a peer mentor for other survivors
            </p>
            <span class="inline-block px-4 py-2 bg-green-500 text-white rounded-full text-sm font-semibold">
                                                    Follow-up support: $100
                                                  </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-6 justify-center items-center mt-16 flex-wrap">
      <button
        (click)="onPlayAnimation()"
        [disabled]="isAnimating"
        class="inline-flex items-center gap-3 px-10 py-4 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5">

        <span>Watch Sarah's Journey</span>
      </button>

      <button
        (click)="onResetJourney()"
        [disabled]="isAnimating"
        class="inline-flex items-center gap-3 px-10 py-4 bg-gray-100 text-gray-700 font-semibold rounded-full hover:bg-gray-200 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg transform hover:-translate-y-0.5 border-2 border-gray-300">

        <span>Reset</span>
      </button>
    </div>

    <!-- Summary Card -->
    <div class="mt-16 bg-white rounded-2xl shadow-lg p-8 text-center">
      <h3 class="text-3xl font-bold text-gray-900 mb-4">Total Journey Cost: $1,875</h3>
      <p class="text-lg text-gray-600 mb-6">
        Your donation of <strong class="text-indigo-600">${{ selectedAmount }}</strong> covers
        <strong class="text-indigo-600">{{ journeyPercentage }}%</strong> of a family's complete journey to safety and independence.
      </p>

      <!-- Progress Bar -->
      <div class="relative w-full h-3 bg-gray-200 rounded-full overflow-hidden mb-3">
        <div
          class="absolute top-0 left-0 h-full bg-indigo-600 transition-all duration-500 ease-out"
          [style.width.%]="journeyPercentage">
        </div>
      </div>

      <div class="flex justify-between text-sm text-gray-600 mb-6">
        <span>${{ selectedAmount }}</span>
        <span>$1,875</span>
      </div>

      <p class="text-sm text-gray-500 italic">
        *Names and details changed to protect privacy. Based on real client outcomes.
      </p>
    </div>
  </div>
</section>
